name: run-ci
on:
    workflow_call:

    pull_request:
        #opened is set so a CI can run when a PR is created
        branches:
            - main
            - test
            - develop
        types: [opened, synchronize, reopened]
    push:
        branches:
            - main
            - release/*
            - test
            - develop

jobs:
    run-ci:
        uses: JamesB2204/iac-pipeline/.github/workflows/terraform_ci.yml@develop
        with:
            branch: ${{ github.head_ref || github.ref_name }}
